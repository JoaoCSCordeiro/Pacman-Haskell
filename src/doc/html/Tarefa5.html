<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa5</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa5</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o </h1><p>O objetivo da tarefa 5 &#233; automatizar o movimento dos fantasmas de modo a que estes executem a jogada &#243;tima de maneira a dificultar o jogo ao Pacman.</p><h1>Solu&#231;&#227;o </h1><p>Para isto foi usada uma fun&#231;&#227;o isGhostAlive que detetava se existia um fantasma vivo, caso isto fosse verdade o objetivo dos fantasmas seria perseguir o Pacman caso este
estivesse em modo Normal que foi identificado usando a fun&#231;&#227;o isPacMega, para encontrar a jogada otima para o fantasma perseguir o Pacman foi usada a fun&#231;&#227;o orifav.
Caso contr&#225;rio foi usada a fun&#231;&#227;o orifavmaior que encontra a jogada &#243;tima para os fantasmas fugirem do pacman.
Na fun&#231;&#227;o final, ghostPlay, &#233; detetado o estado do Pacman e aquando isto &#233; escolhida entre a fun&#231;&#227;o scatterMode e chaseMode qual a melhor para o movimento do Ghost.</p><h1>Conclus&#227;o</h1><p>Com isto conseguimos automatizar o movimento dos fantasmas de maneira a dificultar o jogo. </p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:caminhoF">caminhoF</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:parede">parede</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; Bool</li><li class="src short"><a href="#v:pc">pc</a> :: <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:coordF">coordF</a> :: <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li><li class="src short"><a href="#v:filtrarParede">filtrarParede</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:PlayerState" title="Types">PlayerState</a>] -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li><li class="src short"><a href="#v:comparaCoords">comparaCoords</a> :: [<a href="Types.html#t:Coords" title="Types">Coords</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [(Float, <a href="Types.html#t:Coords" title="Types">Coords</a>)]</li><li class="src short"><a href="#v:menordist">menordist</a> :: [(Float, <a href="Types.html#t:Coords" title="Types">Coords</a>)] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:finalmenor">finalmenor</a> :: <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:getPlayerstate">getPlayerstate</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a></li><li class="src short"><a href="#v:orifav">orifav</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:idP">idP</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:chaseMode">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:caminhoP">caminhoP</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:maiordist">maiordist</a> :: [(Float, <a href="Types.html#t:Coords" title="Types">Coords</a>)] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:finalmaior">finalmaior</a> :: <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:orifavmaior">orifavmaior</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:scatterMode">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:ghostPlay">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:caminhoF" class="def">caminhoF</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:caminhoF" class="selflink">#</a></p><div class="doc"><p>define a melhor orienta&#231;&#227;o para aproximar o fantasma do pacman</p></div></div><div class="top"><p class="src"><a id="v:parede" class="def">parede</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; Bool <a href="#v:parede" class="selflink">#</a></p><div class="doc"><p>v&#234; se a pe&#231;a &#233; uma parede</p></div></div><div class="top"><p class="src"><a id="v:pc" class="def">pc</a> :: <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:pc" class="selflink">#</a></p><div class="doc"><p>dada uma lista de playerstate d&#225; uma lista de coordenadas</p></div></div><div class="top"><p class="src"><a id="v:coordF" class="def">coordF</a> :: <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] <a href="#v:coordF" class="selflink">#</a></p><div class="doc"><p>esta fun&#231;&#227;o vai devolver a lista de todas as coordenadas possiveis para as qual o fantasmam se pode mover </p></div></div><div class="top"><p class="src"><a id="v:filtrarParede" class="def">filtrarParede</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:PlayerState" title="Types">PlayerState</a>] -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] <a href="#v:filtrarParede" class="selflink">#</a></p><div class="doc"><p>esta fun&#231;&#227;o vai devolver uma lista de coordenadas em que nenhuma delas corresponde a uma parede </p></div></div><div class="top"><p class="src"><a id="v:comparaCoords" class="def">comparaCoords</a> :: [<a href="Types.html#t:Coords" title="Types">Coords</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [(Float, <a href="Types.html#t:Coords" title="Types">Coords</a>)] <a href="#v:comparaCoords" class="selflink">#</a></p><div class="doc"><p>compara as coordenadas todas para onde o fantasma pode ir com as coordenadas do pacman, e d&#225;-me um tuplo em que o primeiro elemento corresponde &#225; dis&#226;ncia entre coordenadas e o segundo corresponde a coordenada do fantasma associada a essa dist&#226;ncia</p></div></div><div class="top"><p class="src"><a id="v:menordist" class="def">menordist</a> :: [(Float, <a href="Types.html#t:Coords" title="Types">Coords</a>)] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:menordist" class="selflink">#</a></p><div class="doc"><p>pega na lista de tuplos em que o primeiro corresponde &#225; dist&#226;ncias e segundo &#225;s coordenadas e devolve as coordenadas associadas &#225; menor dist&#226;ncia </p></div></div><div class="top"><p class="src"><a id="v:finalmenor" class="def">finalmenor</a> :: <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:finalmenor" class="selflink">#</a></p><div class="doc"><p>devolve a coordenanda que est&#225; associada &#225; menor dist&#226;ncia entre o fantasma e ghost</p></div></div><div class="top"><p class="src"><a id="v:getPlayerstate" class="def">getPlayerstate</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> <a href="#v:getPlayerstate" class="selflink">#</a></p><div class="doc"><p>d&#225;do um jogador devolve o estado do jogador</p></div></div><div class="top"><p class="src"><a id="v:orifav" class="def">orifav</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:orifav" class="selflink">#</a></p><div class="doc"><p>d&#225;da a coordenada associada &#225; menor dist&#226;ncia entre o fantas e o pacman devolve a orienta&#231;&#227;o que o fantasma deve tomar para se aproximar do pacman</p></div></div><div class="top"><p class="src"><a id="v:idP" class="def">idP</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:idP" class="selflink">#</a></p><div class="doc"><p>dado um id e uma lista de players devolve o jogador com o id igual ao dado</p></div></div><div class="top"><p class="src"><a id="v:chaseMode" class="def">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:chaseMode" class="selflink">#</a></p><div class="doc"><p>usando as fun&#231;&#245;es acima defenidas esta fun&#231;&#227;o d&#225;-nos a melhor jogada pra o fantasma se aproximar do pacman do pacman     </p></div></div><div class="top"><p class="src"><a id="v:caminhoP" class="def">caminhoP</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:caminhoP" class="selflink">#</a></p><div class="doc"><p>define a melhor orienta&#231;&#227;o para afastar o fantasma do pacman</p></div></div><div class="top"><p class="src"><a id="v:maiordist" class="def">maiordist</a> :: [(Float, <a href="Types.html#t:Coords" title="Types">Coords</a>)] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:maiordist" class="selflink">#</a></p><div class="doc"><p>pega na lista de tuplos em que o primeiro corresponde &#225; dist&#226;ncias e segundo &#225;s coordenadas e devolve as coordenadas associadas &#225; maior dist&#226;ncia </p></div></div><div class="top"><p class="src"><a id="v:finalmaior" class="def">finalmaior</a> :: <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:finalmaior" class="selflink">#</a></p><div class="doc"><p>devolve a coordenanda que est&#225; associada &#225; maior dist&#226;ncia entre o fantasma e ghost</p></div></div><div class="top"><p class="src"><a id="v:orifavmaior" class="def">orifavmaior</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:orifavmaior" class="selflink">#</a></p><div class="doc"><p>d&#225;da a coordenada associada &#225; maior dist&#226;ncia entre o fantas e o pacman devolve a orienta&#231;&#227;o que o fantasma deve tomar para se afastar do pacman</p></div></div><div class="top"><p class="src"><a id="v:scatterMode" class="def">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:scatterMode" class="selflink">#</a></p><div class="doc"><p>usando as fun&#231;&#245;es acima defenidas esta fun&#231;&#227;o d&#225;-nos a melhor jogada pra o fantasma se afastar do pacman do pacman</p></div></div><div class="top"><p class="src"><a id="v:ghostPlay" class="def">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:ghostPlay" class="selflink">#</a></p><div class="doc"><p>juntamos a fun&#231;&#227;o chaseMode e scatterMode </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>