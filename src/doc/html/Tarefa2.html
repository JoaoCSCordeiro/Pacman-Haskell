<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa2</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o </h1><p>Na tarefa 2 o objetivo foi dado uma descri&#231;&#227;o do estado do jogo e uma jogada de um jogador, determinar se a jogada &#233; valida e executar o efeito dessa jogada no estado do jogo, 
isto para todos os jogadores do tipo Pacman e Ghost. </p><h1>Solu&#231;&#227;o</h1><p>Para esta tarefa foi implementado um tipo Data para definir os diferentes tipos de movimenta&#231;&#227;o consoante a sua orienta&#231;&#227;o
Foi tamb&#233;m implementado um tipo Data para definir o estado do labirinto que consistia na estrutura do labirinto, um playerstate que continha a lista de todos os jogadores
e o n&#237;vel em que o jogo se encontra, foi tamb&#233;m definido um tipo Data para o jogador, que poderia ser um Pacman ou um fantasma, nesta tarefa o foco foi os jogadores tipo Pacman
que &#233; definido por um tipo de dados, PacState que nos da informa&#231;&#245;es sobre o seu tempo restante em modo Mega, o estado da sua boca (aberta ou fechada) e o seu modo
(Mega, Normal ou Dying). O playerstate da nos informa&#231;&#245;es relativas ao ID do jogador, a sua posi&#231;&#227;o, a velocidade, orienta&#231;&#227;o, pontos e o numero de vidas
O processamento da jogada foi sujeito a regras, quando o jogador se movimenta para uma dire&#231;&#227;o diferente da sua orienta&#231;&#227;o devia-se manter na mesma posi&#231;&#227;o alterando apenas
a sua orienta&#231;&#227;o, caso contr&#225;rio este dever&#225; avan&#231;ar uma posi&#231;&#227;o da dire&#231;&#227;o imposta pelo jogador.
Para processar as diferentes jogadas usamos uma fun&#231;&#227;o PlayerActions para cada orienta&#231;&#227;o diferente que recebia um jogador, um labirinto e processava o que acontecia em todas
as diferentes possibilidades de estado do labirinto 
Foram necess&#225;rias fun&#231;&#245;es extra para casos especificos como quando o Pacman bate contra um fantasma usando a fun&#231;&#227;o testeF que aquando o estado do Pacman e do Ghost
atualiza-os depois da colis&#227;o, foram necess&#225;ria tamb&#233;m duas fun&#231;&#245;es, funcaoTunelR e funcaoTunelL, para fazer o Pacman atravessar o tunel quando este o atravessava.</p><h1>Conclus&#227;o </h1><p>Com isto somos capazes de executar jogadas com o Pacman fazendo-o reagir apropriadamente &#224;s diferentes situa&#231;&#245;es de jogo. </p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:quePeca">quePeca</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:quePeca1">quePeca1</a> :: <a href="Types.html#t:Corridor" title="Types">Corridor</a> -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:getMazeFromState">getMazeFromState</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></li><li class="src short"><a href="#v:funcaoTunelR">funcaoTunelR</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:funcaoTunelL">funcaoTunelL</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:mataFantasmas">mataFantasmas</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:testeF">testeF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playerActionsU">playerActionsU</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playerActionsD">playerActionsD</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playerActionsL">playerActionsL</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playerActionsR">playerActionsR</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:action">action</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:updateMaze">updateMaze</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></li><li class="src short"><a href="#v:meioF">meioF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:distingueP">distingueP</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:distingueF">distingueF</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:juntaPG">juntaPG</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:tira">tira</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:play">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:playerActionsUF">playerActionsUF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playerActionsDF">playerActionsDF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playerActionsLF">playerActionsLF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:playerActionsRF">playerActionsRF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:actionF">actionF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:abreFecha">abreFecha</a> :: <a href="Types.html#t:Mouth" title="Types">Mouth</a> -&gt; <a href="Types.html#t:Mouth" title="Types">Mouth</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:quePeca" class="def">quePeca</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> <a href="#v:quePeca" class="selflink">#</a></p><div class="doc"><p>dado um labirinto e um jogador d&#225;-nos a pe&#231;a que se encontra nas coordenadas do jogador</p></div></div><div class="top"><p class="src"><a id="v:quePeca1" class="def">quePeca1</a> :: <a href="Types.html#t:Corridor" title="Types">Corridor</a> -&gt; <a href="Types.html#t:PlayerState" title="Types">PlayerState</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a> <a href="#v:quePeca1" class="selflink">#</a></p><div class="doc"><p>fun&#231;&#227;o auxiliar &#225; fun&#231;&#227;o quePeca que procura a pe&#231;a no corredor</p></div></div><div class="top"><p class="src"><a id="v:getMazeFromState" class="def">getMazeFromState</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> <a href="#v:getMazeFromState" class="selflink">#</a></p><div class="doc"><p>obtem o labirinto a partir de um state</p></div></div><div class="top"><p class="src"><a id="v:funcaoTunelR" class="def">funcaoTunelR</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:funcaoTunelR" class="selflink">#</a></p><div class="doc"><p>atualiza as coordenadas do jogador  quando este entra no tunel &#225; direita           </p></div></div><div class="top"><p class="src"><a id="v:funcaoTunelL" class="def">funcaoTunelL</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:funcaoTunelL" class="selflink">#</a></p><div class="doc"><p>atualiza as coordenadas do jogador  quando este entra no tunel &#225; esquerda </p></div></div><div class="top"><p class="src"><a id="v:mataFantasmas" class="def">mataFantasmas</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:mataFantasmas" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do fantasma com o pacman fica no estado Mega </p></div></div><div class="top"><p class="src"><a id="v:testeF" class="def">testeF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:testeF" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do jogador caso ele colida com um fantasma </p></div></div><div class="top"><p class="src"><a id="v:playerActionsU" class="def">playerActionsU</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerActionsU" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do pacman quando este realiza a&#231;&#245;es para cima</p></div></div><div class="top"><p class="src"><a id="v:playerActionsD" class="def">playerActionsD</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerActionsD" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do pacman quando este realiza a&#231;&#245;es para baixo</p></div></div><div class="top"><p class="src"><a id="v:playerActionsL" class="def">playerActionsL</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerActionsL" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do pacman quando este realiza a&#231;&#245;es para a esquerda</p></div></div><div class="top"><p class="src"><a id="v:playerActionsR" class="def">playerActionsR</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerActionsR" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do pacman quando este realiza a&#231;&#245;es para a direita</p></div></div><div class="top"><p class="src"><a id="v:action" class="def">action</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:action" class="selflink">#</a></p><div class="doc"><p>junta a s fun&#231;&#245;es playerAction todas </p></div></div><div class="top"><p class="src"><a id="v:updateMaze" class="def">updateMaze</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> <a href="#v:updateMaze" class="selflink">#</a></p><div class="doc"><p>atualiza o labirinto deixando um espa&#231;o branco por onde o pacman passa</p></div></div><div class="top"><p class="src"><a id="v:meioF" class="def">meioF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:meioF" class="selflink">#</a></p><div class="doc"><p>mete os fantasmas no meio da casa de fantatsmas qunado ele morre </p></div></div><div class="top"><p class="src"><a id="v:distingueP" class="def">distingueP</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:distingueP" class="selflink">#</a></p><div class="doc"><p>distingue o jogador pelo ID</p></div></div><div class="top"><p class="src"><a id="v:distingueF" class="def">distingueF</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:distingueF" class="selflink">#</a></p><div class="doc"><p>distingue se &#233; fantasma</p></div></div><div class="top"><p class="src"><a id="v:juntaPG" class="def">juntaPG</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:juntaPG" class="selflink">#</a></p><div class="doc"><p>junta os pacmans e os ghosts numa lista </p></div></div><div class="top"><p class="src"><a id="v:tira" class="def">tira</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:tira" class="selflink">#</a></p><div class="doc"><p>se o jogador da lista tiver o mesmo id que o id dado, esse jogador vai ser retirado da lista</p></div></div><div class="top"><p class="src"><a id="v:play" class="def">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:play" class="selflink">#</a></p><div class="doc"><p>executa uma jogada dado um Maze state </p></div></div><div class="top"><p class="src"><a id="v:playerActionsUF" class="def">playerActionsUF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerActionsUF" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do Fantasma quando este realiza a&#231;&#245;es para baixo</p></div></div><div class="top"><p class="src"><a id="v:playerActionsDF" class="def">playerActionsDF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerActionsDF" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do Fantasma quando este realiza a&#231;&#245;es para baixo</p></div></div><div class="top"><p class="src"><a id="v:playerActionsLF" class="def">playerActionsLF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerActionsLF" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do Fantasma quando este realiza a&#231;&#245;es para a esquerda</p></div></div><div class="top"><p class="src"><a id="v:playerActionsRF" class="def">playerActionsRF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerActionsRF" class="selflink">#</a></p><div class="doc"><p>atualiza o estado do Fantasma quando este realiza a&#231;&#245;es para a direita</p></div></div><div class="top"><p class="src"><a id="v:actionF" class="def">actionF</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:actionF" class="selflink">#</a></p><div class="doc"><p>junta todas a playerActions dos fantasmas </p></div></div><div class="top"><p class="src"><a id="v:abreFecha" class="def">abreFecha</a> :: <a href="Types.html#t:Mouth" title="Types">Mouth</a> -&gt; <a href="Types.html#t:Mouth" title="Types">Mouth</a> <a href="#v:abreFecha" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>