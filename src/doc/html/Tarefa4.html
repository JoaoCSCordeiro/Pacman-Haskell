<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa4</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa4</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o </h1><p>O objetivo desta tarefa &#233; calcular o efeito da passagem de um instante de tempo no estado de jogo.</p><h1>Solu&#231;&#227;o</h1><p>Para esta tarefa foi importada a biblioteca nCurses que foi usada para a movimenta&#231;&#227;o do jogador atr&#225;ves do pressionamento das setas no teclado.
Para simular a passagem do tempo foi implementado um tipo Data Manager que consiste no State do jogo, o identificador unico do jogador, o step que &#233; um inteiro que
representa quantas itera&#231;&#245;es do jogo j&#225; passou, o before que representa o instante de tempo de tempo em que foi efetuada a &#250;ltima jogada, o delta que representa o tempo
decorrido em milissegundos desde a &#250;ltima jogada e o delay que representa o intervalo de tempo entre jogadas que foi estabelecido em 250 ms.
Para movimentar os jogadores foi usada a fun&#231;&#227;o jogaTodos que aquando o estado do jogador vai atualizar o labirinto de acordo com o estado dos fantasmas que podem perseguir
o Pacman ou fugir dele se estiver em estado Mega. Esta fun&#231;&#227;o joga todos foi depois utilizada na fun&#231;&#227;o passtime.</p><h1>Conclus&#227;o</h1><p>Com isto conseguimos controlar o jogador com as setas do teclado e visualizar as jogadas no ecr&#226; consoante a passagem do tempo.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:defaultDelayTime">defaultDelayTime</a> :: Integer</li><li class="src short"><a href="#v:iftimeMega">iftimeMega</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:isPacmanMega">isPacmanMega</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool</li><li class="src short"><a href="#v:isGhost">isGhost</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool</li><li class="src short"><a href="#v:isGhostAlive">isGhostAlive</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool</li><li class="src short"><a href="#v:isPacAlive">isPacAlive</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool</li><li class="src short"><a href="#v:jogaTodos">jogaTodos</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:passTime">passTime</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:playerID">playerID</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:rotatePlayer">rotatePlayer</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:replacePlayerinState">replacePlayerinState</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:replacePlayerinlist">replacePlayerinlist</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:defaultDelayTime" class="def">defaultDelayTime</a> :: Integer <a href="#v:defaultDelayTime" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:iftimeMega" class="def">iftimeMega</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:iftimeMega" class="selflink">#</a></p><div class="doc"><p>se o jogador estiver em modo mega vamos tirar um ao tempo mega restante do jogador</p></div></div><div class="top"><p class="src"><a id="v:isPacmanMega" class="def">isPacmanMega</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool <a href="#v:isPacmanMega" class="selflink">#</a></p><div class="doc"><p>v&#234; se o jogador est&#225; em modo mega</p></div></div><div class="top"><p class="src"><a id="v:isGhost" class="def">isGhost</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool <a href="#v:isGhost" class="selflink">#</a></p><div class="doc"><p>v&#234; se o jogador &#233; um fantasma</p></div></div><div class="top"><p class="src"><a id="v:isGhostAlive" class="def">isGhostAlive</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool <a href="#v:isGhostAlive" class="selflink">#</a></p><div class="doc"><p>v&#7869; se o fantasma est&#225; vivo</p></div></div><div class="top"><p class="src"><a id="v:isPacAlive" class="def">isPacAlive</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Bool <a href="#v:isPacAlive" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:jogaTodos" class="def">jogaTodos</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:jogaTodos" class="selflink">#</a></p><div class="doc"><p>atualiza a lista de jogadores no state usando as fu&#231;&#245;es definidas anteriormente </p></div></div><div class="top"><p class="src"><a id="v:passTime" class="def">passTime</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:passTime" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:playerID" class="def">playerID</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:playerID" class="selflink">#</a></p><div class="doc"><p>d&#225; o jogador como um certo ID</p></div></div><div class="top"><p class="src"><a id="v:rotatePlayer" class="def">rotatePlayer</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:rotatePlayer" class="selflink">#</a></p><div class="doc"><p>rodar o jogador para a orienta&#231;&#227;o dada</p></div></div><div class="top"><p class="src"><a id="v:replacePlayerinState" class="def">replacePlayerinState</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:replacePlayerinState" class="selflink">#</a></p><div class="doc"><p>substituir um jogador atualizado na lista de jogadores do State</p></div></div><div class="top"><p class="src"><a id="v:replacePlayerinlist" class="def">replacePlayerinlist</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:replacePlayerinlist" class="selflink">#</a></p><div class="doc"><p>substituir um jogador atualizado numa lista de jogadores</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>